function setCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function getCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function eraseCookie(a){setCookie(a,"",-1)}function update_repeater_fields(){jQuery(".at-date").each(function(){var b=jQuery(this),a=b.attr("rel");b.datepicker({showButtonPanel:true,dateFormat:a})});jQuery(".at-time").each(function(){var b=jQuery(this),a=b.attr("rel");b.timepicker({showSecond:true,timeFormat:a})});jQuery(".at-add-file").click(function(){var a=jQuery(this).parent().find(".file-input:first");a.clone().insertAfter(a).show();return false});jQuery(".at-upload").delegate(".at-delete-file","click",function(){var c=jQuery(this),b=c.parent(),a=c.attr("rel");$.post(ajaxurl,{action:"at_delete_file",data:a},function(d){d=="0"?(alert("File has been successfully deleted."),b.remove()):alert("You do NOT have permission to delete this file.")});return false});jQuery(".at-images").each(function(){var c=jQuery(this),a,b;c.sortable({placeholder:"ui-state-highlight",update:function(){a=c.sortable("serialize");b=a+"|"+c.siblings(".at-images-data").val();$.post(ajaxurl,{action:"at_reorder_images",data:b},function(d){d=="0"?alert("Order saved!"):alert("You don't have permission to reorder images.")})}})});jQuery(".at-upload-button").click(function(){var d=jQuery(this).attr("rel").split("|"),b=d[0],c=d[1],a=window.send_to_editor;window.send_to_editor=function(e){jQuery("#at-images-"+c).append(jQuery(e));tb_remove();window.send_to_editor=a};tb_show("","media-upload.php?post_id=0&field_id="+c+"&type=image&TB_iframe=true&apc=apc");return false})}var Ed_array=Array;jQuery(document).ready(function(e){var t=0;e(".code_text").each(function(){var w=e(this).attr("data-lang");switch(w){case"php":w="application/x-httpd-php";break;case"css":w="text/css";break;case"html":w="text/html";break;case"javascript":w="text/javascript";break;default:w="application/x-httpd-php"}var v=e(this).attr("data-theme");switch(v){case"default":v="default";break;case"light":v="solarizedLight";break;case"dark":v="solarizedDark";break;default:v="default"}var u=CodeMirror.fromTextArea(document.getElementById(e(this).attr("id")),{lineNumbers:true,matchBrackets:true,mode:w,indentUnit:4,indentWithTabs:true,enterMode:"keep",tabMode:"shift"});u.setOption("theme",v);e(u.getScrollerElement()).width(100);width=e(u.getScrollerElement()).parent().width();e(u.getScrollerElement()).width(width);u.refresh();Ed_array[t]=u;t++});e(window).resize(function(){e.each(Ed_array,function(){var u=this;e(u.getScrollerElement()).width(100);width=e(u.getScrollerElement()).parent().width();e(u.getScrollerElement()).width(width);u.refresh()})});e(".rw-checkbox").iphoneStyle();e(".conditinal_control").iphoneStyle();e(".conditinal_control").change(function(){if(e(this).is(":checked")){e(this).parent().next().show("fast")}else{e(this).parent().next().hide("fast")}});e(".at-re-toggle").bind("click",function(){e(this).prev().toggle("slow")});e(".at-date").each(function(){var v=e(this),u=v.attr("rel");v.datepicker({showButtonPanel:true,dateFormat:u})});e(".at-time").each(function(){var v=e(this),u=v.attr("rel");v.timepicker({showSecond:true,timeFormat:u})});e(".at-color").bind("focus",function(){var u=e(this);e(this).siblings(".at-color-picker").farbtastic(u).toggle()});e(".at-color").bind("focusout",function(){var u=e(this);e(this).siblings(".at-color-picker").farbtastic(u).toggle()});e(".at-color-select").bind("click",function(){var u=e(this);var v=u.attr("rel");e(this).siblings(".at-color-picker").farbtastic("#"+v).toggle();e(this).prev().css("background",e(this).prev().val());return false});e(".at-add-file").click(function(){var u=e(this).parent().find(".file-input:first");u.clone().insertAfter(u).show();return false});e(".at-upload").delegate(".at-delete-file","click",function(){var w=e(this),v=w.parent(),u=w.attr("rel");e.post(ajaxurl,{action:"at_delete_file",data:u},function(x){x=="0"?(alert("File has been successfully deleted."),v.remove()):alert("You do NOT have permission to delete this file.")});return false});e(".at-upload-button").click(function(){var x=e(this).attr("rel").split("|"),v=x[0],w=x[1],u=window.send_to_editor;window.send_to_editor=function(y){e("#at-images-"+w).append(e(y));tb_remove();window.send_to_editor=u};tb_show("","media-upload.php?post_id=0&field_id="+w+"&type=image&TB_iframe=true&apc=apc");return false});jQuery(".repeater-sortable").sortable();jQuery(".at-sortable").sortable({placeholder:"ui-state-highlight"});function d(v){var u=RegExp("[?&]"+v+"=([^&#]*)").exec(location.href);return u&&decodeURIComponent(u[1].replace(/\+/g," "))}function h(){jQuery(".mupload_img_holder").each(function(y,x){if(jQuery(this).next().next().val()!=""){if(!jQuery(this).children().size()>0){var z=jQuery(this).attr("data-he");var u=jQuery(this).attr("data-wi");jQuery(this).append('<img src="'+jQuery(this).next().next().val()+'" style="height: '+z+";width: "+u+';" />');jQuery(this).next().next().next().val("Delete");jQuery(this).next().next().next().removeClass("at-upload_image_button").addClass("at-delete_image_button")}}})}h();jQuery(".at-delete_image_button").bind("click",function(y){var u=jQuery(this).attr("rel");var w=jQuery(this).prev().prev();var v=jQuery(this).prev();var x=jQuery(this);data={action:"apc_delete_mupload",_wpnonce:e("#nonce-delete-mupload_"+u).val(),field_id:u,attachment_id:jQuery(w).val()};e.getJSON(ajaxurl,data,function(z){if("success"==z.status){jQuery(x).val("Upload Image");jQuery(x).removeClass("at-delete_image_button").addClass("at-upload_image_button");jQuery(w).val("");jQuery(v).val("");jQuery(w).prev().html("");h()}else{alert(z.message)}});return false});var b;var a;jQuery(".at-upload_image_button").bind("click",function(u){b=jQuery(this).prev();a=jQuery(this).prev().prev();tb_show("","media-upload.php?post_id=0&type=image&apc=apc&TB_iframe=true");window.restore_send_to_editor=window.send_to_editor;window.send_to_editor=function(v){imgurl=jQuery("img",v).attr("src");img_calsses=jQuery("img",v).attr("class").split(" ");att_id="";jQuery.each(img_calsses,function(w,x){if(x.indexOf("wp-image")!=-1){att_id=x.replace("wp-image-","")}});jQuery(a).val(att_id);jQuery(b).val(imgurl);h();tb_remove();window.send_to_editor=window.restore_send_to_editor};return false});function g(v){var u=new Date().getTime()/1000;var w=parseInt(u);return(v)?u:(Math.round((u-w)*1000)/1000)+" "+w}function j(x){k(x);var v=jQuery("#option_group_name").val();var u="#apc_"+x+"_nonce";var w="apc_"+x+"_tr";jQuery.ajaxSetup({cache:false});if(x=="export"){l(w,v,u,x)}else{n(w,v,u,x)}jQuery.ajaxSetup({cache:true})}function l(v,w,u,x){jQuery.getJSON(ajaxurl,{group:w,rnd:g(false),action:v,seq:jQuery(u).val()},function(y){if(y){o(y)}else{alert("Something Went Wrong, try again later")}q(x)})}function n(v,w,u,x){jQuery.post(ajaxurl,{group:w,rnd:g(false),action:v,seq:jQuery(u).val(),imp:jQuery("#export_code").val()},function(y){if(y){f(y)}else{alert("Something Went Wrong, try again later")}q(x)},"json")}function k(u){jQuery(".export_status").hide("fast");jQuery(".export_results").html("").removeClass("alert-success").hide();jQuery(".export_status").show("fast")}function q(u){jQuery(".export_status").hide("fast")}function o(u){if(u.code){jQuery("#export_code").val(u.code)}if(u.nonce){jQuery("#apc_export_nonce").val(u.nonce)}if(u.err){jQuery(".export_results").html(u.err).show("slow")}}function f(u){if(u.nonce){jQuery("#apc_import_nonce").val(u.nonce)}if(u.err){jQuery(".export_results").html(u.err).show()}if(u.success){jQuery(".export_results").html(u.success).addClass("alert-success").show("slow")}}jQuery("#apc_import_b").bind("click",function(){if(e("#export_code").val()==""){jQuery(".export_results").html("Please Add Code below to Import").show();return false}j("import")});jQuery("#apc_export_b").bind("click",function(){j("export")});jQuery("#apc_refresh_page_b").bind("click",function(){s()});e("form#admin_options_form").submit(function(){var u=e(this);e(".msg_alert_success",u).html("Saving...").css("display","block").addClass("saving");e.ajax({url:location.href,data:e(this).serialize()+"&is_ajax=true",type:"post",success:function(v){e(".msg_alert_success",u).html("The options are been saved!").css("display","block").removeClass("saving");setTimeout(function(){e(".msg_alert_success",u).slideUp()},5000)}});return false});e("input.restore_button").bind("click",function(){$this=e("form#admin_options_form");if(confirm("Do you want restore Default options?")==false){return false}e(".msg_alert_success",$this).html("Restoring...").css("display","block").addClass("saving");e.ajax({url:location.href,data:$this.serialize()+"&is_ajax=true&restore=default",type:"post",success:function(u){e(".msg_alert_success",$this).html("The options are been restored!").css("display","block").removeClass("saving");s()}});return false});e(".msg_alert_success").hover(function(){if(e(this).hasClass("saving")){return}e(this).slideUp()});function s(){location=location.href}e('input[type="checkbox"]').each(function(){if(e(this).attr("target")&&e(this).attr("target").length>0){e(this).change(function(){var v=e(this).attr("target");v=v.split(",");var u=(e(this).is(":checked"))?true:false;for(i in v){if(i=="in_array"){continue}if(u){e("#field_"+v[i]).slideDown()}else{e("#field_"+v[i]).slideUp()}}}).change()}});var p=getCookie("apc_last_tab");if(p){var p=p}else{var p=null}function m(u){if(!e(u).hasClass("active_tab")){e(".setingstab").hide("slow");e(".panel_menu li").removeClass("active_tab");e(".panel_menu li").removeClass("active_parent_tab");c=e(u).find("a").attr("href");e(u).addClass("active_tab");e(c).show("fast");setCookie("apc_last_tab",c);u.parents("li").addClass("active_parent_tab");e("li:first-child a",u).click()}}if(e(".setingstab").length==0){return}e(".setingstab").hide();if(p==null){e(".panel_menu li:first").addClass("active_tab");var c=e(".panel_menu li:first a").attr("href");e(c).show()}else{var r=e('[href="'+p+'"]');if(r.hasClass("nav_tab_link")){m(r.parent())}else{e(".panel_menu li:first").addClass("active_tab");var c=e(".panel_menu li:first a").attr("href");e(c).show()}}e(".panel_menu li a").bind("click",function(u){u.preventDefault();m(e(this).parent("li"))});function h(){jQuery(".mupload_img_holder").each(function(w,u){if(jQuery(this).next().next().val()!=""){jQuery(this).append('<img src="'+jQuery(this).next().next().val()+'" style="height: 100px;width: 100px;" />');jQuery(this).next().next().next().val("Delete");jQuery(this).next().next().next().removeClass("apc_upload_image_button").addClass("apc_delete_image_button")}})}var b;var a;jQuery("#image_button").click(function(y){if(jQuery(this).hasClass("apc_upload_image_button")){b=jQuery(this).prev();a=jQuery(this).prev().prev();tb_show("","media-upload.php?type=image&amp;apc=insert_file&amp;TB_iframe=true");return false}else{var u=jQuery(this).attr("rel");var w=jQuery(this).prev().prev();var v=jQuery(this).prev();var x=jQuery(this);data={action:"apc_delete_mupload",_wpnonce:e("#nonce-delete-mupload_"+u).val(),field_id:u,attachment_id:jQuery(w).val()};e.post(ajaxurl,data,function(z){if("success"==z.status){jQuery(x).val("Upload Image");jQuery(x).removeClass("apc_delete_image_button").addClass("apc_upload_image_button");jQuery(w).val("");jQuery(v).val("");jQuery(w).prev().html("");h()}else{alert(z.message)}},"json");return false}});window.restore_send_to_editor=window.send_to_editor;window.send_to_editor=function(u){imgurl=jQuery("img",u).attr("src");img_calsses=jQuery("img",u).attr("class").split(" ");att_id="";jQuery.each(img_calsses,function(v,w){if(w.indexOf("wp-image")!=-1){att_id=w.replace("wp-image-","")}});jQuery(a).val(att_id);jQuery(b).val(imgurl);h();tb_remove();window.send_to_editor=window.restore_send_to_editor}});